import{d as h,o as d,c as r,F as C,r as N,n as b,a as s,b as T,t as V,_ as g,u as P,e as k,T as $,f as v,g as w,h as I,w as y,A as S,i as A,j as E,k as L,l as M,v as D,m as F,p as O,q as U}from"./index-00b30017.js";const j={class:"priority-buttons"},q=["value","checked","onChange"],z=h({__name:"PriorityButtons",props:{priorities:{default:JSON.parse('["low", "medium", "high"]')},modelValue:{},idPrefix:{}},emits:["update:modelValue"],setup(a,{emit:o}){return(i,_)=>(d(),r("div",j,[(d(!0),r(C,null,N(i.priorities,e=>(d(),r("label",{key:`${i.idPrefix}-${e}`,class:b(["priority-buttons__btn",`priority-buttons__btn--${e}`,{"priority-buttons__btn--checked":e===i.modelValue}])},[s("input",{class:"priority-buttons__radio",type:"radio",value:e,checked:e===i.modelValue,onChange:c=>o("update:modelValue",e)},null,40,q),T(" "+V(e),1)],2))),128))]))}});const J=g(z,[["__scopeId","data-v-2d3fbe8e"]]),x=a=>(O("data-v-0171f5e1"),a=a(),U(),a),R={key:0},G={class:"task-edit"},H={class:"task-edit__entry"},K=x(()=>s("span",{class:"task-edit__label"},"Task",-1)),Q={class:"task-edit__entry"},W=x(()=>s("legend",{class:"task-edit__label"},"Priority",-1)),X=h({__name:"TaskEdit",props:{id:{default:""}},setup(a){const o=a,i=P(),{updateTask:_,fetchTask:e,isLoading:c}=A(),t=k(new $({})),u=k(!1),p=v(()=>o.id?"edit":"add"),m=v(()=>t.value.title.trim().length===0);w(async()=>{o.id&&(t.value=await e(o.id))});const f=()=>{i.push({name:"home"})},B=()=>{u.value=!0,m.value||(_(o.id,t.value),f())};return(Y,n)=>(d(),I(S,{actionName:p.value,actionType:"standard",onOk:B,onCancel:f},{title:y(()=>[T(V(p.value)+" task",1)]),default:y(()=>[E(c)?(d(),r("div",R,"Loading task data...")):L("",!0),s("form",G,[s("label",H,[K,M(s("input",{"onUpdate:modelValue":n[0]||(n[0]=l=>t.value.title=l),class:b(["task-edit__field",{"task-edit__field--error":u.value&&m.value}]),onBlur:n[1]||(n[1]=l=>u.value=!0)},null,34),[[D,t.value.title]])]),s("fieldset",Q,[W,F(J,{modelValue:t.value.priority,"onUpdate:modelValue":n[2]||(n[2]=l=>t.value.priority=l),idPrefix:t.value.id},null,8,["modelValue","idPrefix"])])])]),_:1},8,["actionName"]))}});const ee=g(X,[["__scopeId","data-v-0171f5e1"]]);export{ee as default};
