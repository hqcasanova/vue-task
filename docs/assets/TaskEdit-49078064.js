import{d as w,o as l,c as u,F as $,r as P,n as f,a,b as B,t as k,_ as C,u as S,e as b,T as I,f as x,g as E,h as F,w as T,i as V,j as L,k as M,l as j,m as A,v as D,p as O,q as U,s as q,x as z}from"./index-a7d7eb43.js";const J={class:"priority-buttons flex flex-wrap"},R=["value","checked","onChange"],G=w({__name:"PriorityButtons",props:{priorities:{default:JSON.parse('["low", "medium", "high"]')},modelValue:{},idPrefix:{}},emits:["update:modelValue"],setup(s,{emit:o}){return(i,v)=>(l(),u("div",J,[(l(!0),u($,null,P(i.priorities,e=>(l(),u("label",{key:`${i.idPrefix}-${e}`,class:f(["app-btn mr-2.5 mb-2.5 py-2 px-4 first-letter:uppercase font-medium border text-grey border-grey rounded-xl",["priority-buttons__btn",`priority-buttons__btn--${e}`,{"priority-buttons__btn--checked":e===i.modelValue}]])},[a("input",{class:"priority-buttons__radio",type:"radio",value:e,checked:e===i.modelValue,onChange:c=>o("update:modelValue",e)},null,40,R),B(" "+k(e),1)],2))),128))]))}});const H=C(G,[["__scopeId","data-v-6e690a96"]]),N=s=>(q("data-v-68b63965"),s=s(),z(),s),K=["onSubmit"],Q={class:"task-edit__entry"},W=N(()=>a("span",{class:"task-edit__label"},"Task",-1)),X={class:"task-edit__entry"},Y=N(()=>a("legend",{class:"task-edit__label"},"Priority",-1)),Z=w({__name:"TaskEdit",props:{id:{default:""}},setup(s){const o=s,i=S(),{updateTask:v,fetchTask:e,isLoading:c}=M(),t=b(new I({})),p=b(!1),r=b(!1),_=x(()=>o.id?"edit":"add"),y=x(()=>t.value.title.trim().length===0);E(async()=>{if(o.id){const m=await e(o.id);m?t.value=m:r.value=!0}});const h=()=>{i.push({name:"home"})},g=()=>{p.value=!0,y.value||(v(o.id,t.value),h())};return(m,n)=>(l(),F(L,{actionType:"standard",actionName:_.value,"is-disabled-action":V(c)||r.value,onOk:g,onCancel:h},{title:T(()=>[B(k(_.value)+" task",1)]),default:T(()=>[a("form",{class:"task-edit relative",onSubmit:U(g,["prevent"])},[_.value==="edit"&&V(c)||r.value?(l(),u("div",{key:0,class:f(["absolute top-0 bottom-0 left-0 right-0 flex items-center justify-center bg-lighter-grey/60 backdrop-blur-sm",{"text-danger font-normal":r.value}])},k(r.value?"Task could not be found":"Loading task data..."),3)):j("",!0),a("label",Q,[W,A(a("input",{"onUpdate:modelValue":n[0]||(n[0]=d=>t.value.title=d),class:f(["block w-full py-3.5 px-[1.125rem] font-normal bg-white border border-light-grey rounded-2xl hover:border-black focus:border-black outline-none",{"!border-dark-danger":p.value&&y.value}]),onBlur:n[1]||(n[1]=d=>p.value=!0)},null,34),[[D,t.value.title]])]),a("fieldset",X,[Y,O(H,{modelValue:t.value.priority,"onUpdate:modelValue":n[2]||(n[2]=d=>t.value.priority=d),idPrefix:t.value.id},null,8,["modelValue","idPrefix"])])],40,K)]),_:1},8,["actionName","is-disabled-action"]))}});const te=C(Z,[["__scopeId","data-v-68b63965"]]);export{te as default};
