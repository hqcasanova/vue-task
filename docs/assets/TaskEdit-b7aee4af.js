import{d as V,o as l,c as u,F as $,r as P,n as b,a,b as w,t as k,_ as B,u as I,e as f,T as S,f as g,g as E,h as F,w as x,i as T,j as L,k as j,l as A,m as D,v as M,p as O,q as U,s as q}from"./index-5c6d999c.js";const z={class:"priority-buttons flex flex-wrap"},J=["value","checked","onChange"],R=V({__name:"PriorityButtons",props:{priorities:{default:JSON.parse('["low", "medium", "high"]')},modelValue:{},idPrefix:{}},emits:["update:modelValue"],setup(s,{emit:o}){return(i,v)=>(l(),u("div",z,[(l(!0),u($,null,P(i.priorities,e=>(l(),u("label",{key:`${i.idPrefix}-${e}`,class:b(["app-btn mr-2.5 mb-2.5 py-2 px-4 first-letter:uppercase font-medium border text-grey border-grey rounded-xl",["priority-buttons__btn",`priority-buttons__btn--${e}`,{"priority-buttons__btn--checked":e===i.modelValue}]])},[a("input",{class:"priority-buttons__radio",type:"radio",value:e,checked:e===i.modelValue,onChange:c=>o("update:modelValue",e)},null,40,J),w(" "+k(e),1)],2))),128))]))}});const G=B(R,[["__scopeId","data-v-6e690a96"]]),C=s=>(U("data-v-5077f0ab"),s=s(),q(),s),H={class:"task-edit relative"},K={class:"task-edit__entry"},Q=C(()=>a("span",{class:"task-edit__label"},"Task",-1)),W={class:"task-edit__entry"},X=C(()=>a("legend",{class:"task-edit__label"},"Priority",-1)),Y=V({__name:"TaskEdit",props:{id:{default:""}},setup(s){const o=s,i=I(),{updateTask:v,fetchTask:e,isLoading:c}=j(),t=f(new S({})),_=f(!1),n=f(!1),p=g(()=>o.id?"edit":"add"),y=g(()=>t.value.title.trim().length===0);E(async()=>{if(o.id){const m=await e(o.id);m?t.value=m:n.value=!0}});const h=()=>{i.push({name:"home"})},N=()=>{_.value=!0,y.value||(v(o.id,t.value),h())};return(m,r)=>(l(),F(L,{actionType:"standard",actionName:p.value,"is-disabled-action":T(c)||n.value,onOk:N,onCancel:h},{title:x(()=>[w(k(p.value)+" task",1)]),default:x(()=>[a("form",H,[p.value==="edit"&&T(c)||n.value?(l(),u("div",{key:0,class:b(["absolute top-0 bottom-0 left-0 right-0 flex items-center justify-center bg-lighter-grey/60 backdrop-blur-sm",{"text-danger font-normal":n.value}])},k(n.value?"Task could not be found":"Loading task data..."),3)):A("",!0),a("label",K,[Q,D(a("input",{"onUpdate:modelValue":r[0]||(r[0]=d=>t.value.title=d),class:b(["block w-full py-3.5 px-[1.125rem] font-normal bg-white border border-light-grey rounded-2xl hover:border-black focus:border-black outline-none",{"border-dark-danger hover:border-dark-danger":_.value&&y.value}]),onBlur:r[1]||(r[1]=d=>_.value=!0)},null,34),[[M,t.value.title]])]),a("fieldset",W,[X,O(G,{modelValue:t.value.priority,"onUpdate:modelValue":r[2]||(r[2]=d=>t.value.priority=d),idPrefix:t.value.id},null,8,["modelValue","idPrefix"])])])]),_:1},8,["actionName","is-disabled-action"]))}});const ee=B(Y,[["__scopeId","data-v-5077f0ab"]]);export{ee as default};
