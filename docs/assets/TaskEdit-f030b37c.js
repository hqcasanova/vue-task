import{d as h,o as n,c as d,F as C,r as $,n as v,a as s,b as g,t as x,_ as T,u as N,e as b,T as P,f as k,g as I,h as S,w as y,i as E,j as L,k as j,l as A,m as D,v as F,p as M,q as O,s as U}from"./index-30139404.js";const q={class:"priority-buttons flex flex-wrap"},z=["value","checked","onChange"],J=h({__name:"PriorityButtons",props:{priorities:{default:JSON.parse('["low", "medium", "high"]')},modelValue:{},idPrefix:{}},emits:["update:modelValue"],setup(a,{emit:o}){return(i,c)=>(n(),d("div",q,[(n(!0),d(C,null,$(i.priorities,e=>(n(),d("label",{key:`${i.idPrefix}-${e}`,class:v(["app-btn mr-2.5 mb-2.5 py-2 px-4 first-letter:uppercase font-medium border text-grey border-grey rounded-xl",["priority-buttons__btn",`priority-buttons__btn--${e}`,{"priority-buttons__btn--checked":e===i.modelValue}]])},[s("input",{class:"priority-buttons__radio",type:"radio",value:e,checked:e===i.modelValue,onChange:_=>o("update:modelValue",e)},null,40,z),g(" "+x(e),1)],2))),128))]))}});const R=T(J,[["__scopeId","data-v-6e690a96"]]),V=a=>(O("data-v-3f775789"),a=a(),U(),a),G={class:"task-edit relative"},H={key:0,class:"absolute top-0 bottom-0 left-0 right-0 flex items-center justify-center bg-lighter-grey/60 backdrop-blur-sm"},K={class:"task-edit__entry"},Q=V(()=>s("span",{class:"task-edit__label"},"Task",-1)),W={class:"task-edit__entry"},X=V(()=>s("legend",{class:"task-edit__label"},"Priority",-1)),Y=h({__name:"TaskEdit",props:{id:{default:""}},setup(a){const o=a,i=N(),{updateTask:c,fetchTask:e,isLoading:_}=L(),t=b(new P({})),u=b(!1),p=k(()=>o.id?"edit":"add"),m=k(()=>t.value.title.trim().length===0);I(async()=>{o.id&&(t.value=await e(o.id))});const f=()=>{i.push({name:"home"})},w=()=>{u.value=!0,m.value||(c(o.id,t.value),f())};return(B,r)=>(n(),S(E,{actionName:p.value,actionType:"standard",onOk:w,onCancel:f},{title:y(()=>[g(x(p.value)+" task",1)]),default:y(()=>[s("form",G,[B.id&&j(_)?(n(),d("div",H," Loading data... ")):A("",!0),s("label",K,[Q,D(s("input",{"onUpdate:modelValue":r[0]||(r[0]=l=>t.value.title=l),class:v(["block w-full py-3.5 px-[1.125rem] font-normal bg-white border border-light-grey rounded-2xl hover:border-black focus:border-black outline-none",{"border-danger":u.value&&m.value}]),onBlur:r[1]||(r[1]=l=>u.value=!0)},null,34),[[F,t.value.title]])]),s("fieldset",W,[X,M(R,{modelValue:t.value.priority,"onUpdate:modelValue":r[2]||(r[2]=l=>t.value.priority=l),idPrefix:t.value.id},null,8,["modelValue","idPrefix"])])])]),_:1},8,["actionName"]))}});const ee=T(Y,[["__scopeId","data-v-3f775789"]]);export{ee as default};
